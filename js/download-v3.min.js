var download={config:JSON.parse(_decx(JSON.stringify(playerConfig))),sources:[],tracks:[],parser:{tracks:function(){var o="",e="";download.tracks.length>0&&$.each(download.tracks,(function(n,a){o=a.file,download.config.disableDirectAds||""===download.config.directAdsLink||"#"===download.config.directAdsLink||(e="onclick=\"showAds('"+download.config.directAdsLink+"')\""),$("#dlWrapper").append('<a href="'+o+'" class="btn btn-success btn-lg btn-block btn-download" '+e+">Download "+a.label+" Subtitle</a>")}))},sources:function(){var o="",e="";download.sources.length>0&&$.each(download.sources,(function(n,a){o=a.file,download.config.disableDirectAds||""===download.config.directAdsLink||"#"===download.config.directAdsLink||(e="onclick=\"showAds('"+download.config.directAdsLink+"')\""),$("#dlWrapper").append('<a href="'+o+'" class="btn btn-primary btn-lg btn-block btn-download" '+e+">Download "+a.label+" Video</a>")}))}},load:function(){var o,e=$("#servers li"),n=e.length,a="",s=!1,t=!0;$.ajax({url:download.config.apiURL+"api/?"+download.config.query,type:"GET",dataType:"json",cache:!1,timeout:3e4,beforeSend:function(){$("#dlWrapper").html('<div class="d-flex justify-content-center"><div class="spinner-grow text-success" role="status" style="width:5rem;height:5rem"><span class="sr-only">Loading...</span></div></div>')},success:function(d){"fail"!==d.status&&(d.sources.length>0&&d.sources[0].type.indexOf("video")>-1?(s=!0,$(".btn-watch").show(),$("#dlWrapper").html(""),download.sources=d.sources,download.tracks=d.tracks,download.parser.sources(),download.parser.tracks()):t=!1),s||(n>1?(e.each((function(e,s){if($(this).find("a").hasClass("active")&&e<n-1&&(o=$(this).next()).length>0)return a=o.find("a").attr("href"),!1})),""!==a?window.location.href=a:t?download.msg.notFound():download.msg.mp4Unavailable()):t?download.msg.notFound():download.msg.mp4Unavailable())},error:function(o,e){showMessage('Failed to fetch video sources from server! <a href="javascript:void(0)" onclick="location.reload()">Reload Page</a>')}})},msg:{notFound:function(){showMessage("Sorry this video is unavailable.")},mp4Unavailable:function(){showMessage("No downloadable mp4 videos.")}}};function detectAdblocker(o){$.ajax({url:"https://feeloshu.com/tag.min.js",complete:o})}function showMessage(o){$(".btn-watch, .alert, h1").hide(),$("#dlWrapper").html('<h3 class="text-danger text-center">'+o+"</h3>")}function preventOpenDevTools(){console.clear();var o=(new Date).getTime();debugger;(new Date).getTime()-o>200&&($("body").text(" Dont open Developer Tools."),window.location.replace("https://www.google.com")),setTimeout(preventOpenDevTools,100)}function showAds(o){void 0!==o&&window.open(o,"_blank")}download.config.productionMode&&preventOpenDevTools(),detectAdblocker((function(o){window.canRunAds=o.status>0,download.config.blockADB&&!window.canRunAds?showMessage('<p><img src="assets/img/stop-sign-hand.webp" width="100" height="100"></p><p>Please support us by disabling AdBlocker.</p>'):download.load()})),$(document).on("contextmenu",(function(o){return o.preventDefault(),o.stopPropagation(),!1}));
